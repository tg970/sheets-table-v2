{"version":3,"sources":["utils/network.js","views/TableExample/TableExample.jsx","App.js","index.js"],"names":["url","callback","callOnErr","axios","get","then","response","data","console","error","catch","log","tableIcons","Add","forwardRef","props","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","withStyles","innerWrap","overflow","flexDirection","paddingRight","borderBottom","fontSize","paddingLeft","paddingTop","paddingBottom","height","width","classes","useState","loaded","columns","state","setState","dataProcessor","json","JSON","parse","substr","slice","table","rows","cols","c","forEach","item","v","push","title","field","map","i","row","newRow","index","rowResolver","useEffect","network","className","icons","isLoading","localization","toolbar","searchPlaceholder","searchTooltip","pagination","labelDisplayedRows","labelRowsSelect","labelRowsPerPage","firstAriaLabel","firstTooltip","previousAriaLabel","previousTooltip","nextAriaLabel","nextTooltip","lastAriaLabel","lastTooltip","options","pageSize","length","pageSizeOptions","padding","headerStyle","backgroundColor","color","textAlign","cellStyle","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c4d3ecdf.chunk.js","sourcesContent":["/* eslint-disable */\n\nimport axios from 'axios';\n\nconst get = (url, callback, callOnErr) => {\n\n  let request = axios.get(url)\n    .then((response) => {\n      if (callback) {\n        callback(response.data)\n      } else {\n        console.error('Get Request DEAD END');\n      }\n    })\n    .catch((error) => {\n      if (callOnErr) {\n        callback()\n      } else {\n        console.log(error);\n      }\n  });\n\n  return request\n}\n\nconst post = (collection, data, callback, callOnErr) => {\n  let url = `/api/${collection}`\n  let request = axios.post(url, data)\n    .then((response) => {\n      callback(response.data)\n    })\n    .catch((error) => {\n      if (callOnErr) {\n        console.error(error);\n        callback()\n      } else {\n        console.error(error);\n      }\n  });\n  return request\n}\n\nexport default {\n  get,\n  post,\n};\n","/*eslint-disable*/\nimport React, { useEffect, useState, forwardRef }  from \"react\";\n\nimport PropTypes from \"prop-types\";\nimport { withStyles } from '@material-ui/core/styles';\nimport MaterialTable from 'material-table';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\n\nconst tableIcons = {\n    Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n    Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n    Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n    Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n    DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n    Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n    Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n    Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n    FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n    LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n    NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n    PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\n    ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n    Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n    SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\n    ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n    ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n  };\n\nimport network from \"../../utils/network.js\";\n\nconst testSheet = \"1O3Xbi2UiwvBY91tlYUpR78-4r9rMFZjFF3E1JTnIowY\"\n\nconst prodSheet = \"15xYUaZiqCuEl2luDf2sa-omWfCEFUvLzL7cXwU2Cn5s\"\n\nconst staticUrl = (sheetId) => {\n  return `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:json`;\n}\n\n\n\nconst rowResolver = (row, cols) => {\n  const data = row.c;\n  let newRow = {};\n  data.forEach((item, index) => {\n    if (!item || !item.v || !cols[index]) return;\n    newRow[cols[index].field] = item.v\n  })\n  return newRow;\n}\n\nfunction TableExample({...props}){\n  const { classes, ...rest } = props;\n\n  const [state, setState] = useState({\n    loaded: false,\n    columns: [],\n    data: []\n  })\n\n  const dataProcessor = (data) => {\n    const json = JSON.parse(data.substr(47).slice(0, -2));\n\n    console.log(json.table.rows);\n\n    let cols = [];\n\n    json.table.rows[0].c.forEach((item) => {\n      if (!item || !item.v) return\n      cols.push({\n        title: item.v,\n        field: item.v\n      })\n    });\n\n    console.log(cols);\n\n    let rows = json.table.rows.slice(1).map((i) => rowResolver(i, cols));\n\n    console.log(rows);\n\n    setState({\n      loaded: true,\n      columns: cols,\n      data: rows,\n    })\n\n  }\n\n  useEffect(() => {\n    if (!state.loaded) network.get(staticUrl(prodSheet), dataProcessor)\n  });\n\n  return (\n    <div\n      className={classes.innerWrap}\n    >\n      {state.loaded && <MaterialTable\n        icons={tableIcons}\n        isLoading={!state.loaded}\n        title=\"רשימת חנויות\"\n        columns={state.columns || []}\n        data={state.data || []}\n        localization={{\n          toolbar: {\n            searchPlaceholder: \"חיפוש\",\n            searchTooltip: \"חיפוש\",\n          },\n          pagination: {\n            labelDisplayedRows: \"{count} מתוך {to}-{from}\",\n            labelRowsSelect: \"שורות\",\n            labelRowsPerPage: \"שורות לעמוד:\",\n            firstAriaLabel: \"עמוד ראשון\",\n            firstTooltip: \"עמוד ראשון\",\n            previousAriaLabel: \"עמוד קודם\",\n            previousTooltip: \"עמוד קודם\",\n            nextAriaLabel: \"עמוד הבא\",\n            nextTooltip: \"עמוד הבא\",\n            lastAriaLabel: \"עמוד אחרון\",\n            lastTooltip: \"עמוד אחרון\"\n          }\n        }}\n        options={{\n          pageSize: state.data.length,\n          pageSizeOptions: [10, 20, 80, 100, 200, state.data.length],\n          padding: 'dense',\n          headerStyle: {\n            backgroundColor: \"#97C7D3\",\n            color: '#FFF',\n            textAlign: 'right',\n            flexDirection: \"row-reverse\",\n          },\n          cellStyle: {\n            textAlign: 'right',\n          },\n        }}\n      />}\n    </div>\n  );\n}\n\nconst styles = {\n  innerWrap: {\n    // maxHeight: '90vh',\n    overflow: 'auto',\n    \"& .MuiToolbar-root\": {\n      flexDirection: \"row-reverse\",\n    },\n    \"& h6\": {\n      paddingRight: \"7px\",\n    },\n    \"& .MuiInput-underline:after\" : {\n      borderBottom: '2px solid #97C7D3',\n    },\n    \"@media (max-width: 475px)\": {\n      \"& td,th\": {\n        fontSize: \"12px\",\n        paddingRight: \"2px\",\n        paddingLeft: 0,\n      },\n      \"& th\": {\n        paddingTop: \"3px\",\n        paddingBottom: \"3px\",\n      },\n      \"& h6\": {\n        fontSize: \"14px\",\n      },\n      \"& .MuiFormControl-root\": {\n        paddingLeft: 0,\n      },\n      \"& .MuiInput-root\": {\n        fontSize: \"12px\",\n      },\n      \"& .MuiIcon-root\": {\n        height: \"0.75em\",\n        width: \"0.75em\",\n      }\n    }\n  }\n}\n\n\nTableExample.propTypes = {\n  classes: PropTypes.object\n};\n\nexport default withStyles(styles)(TableExample);\n","import React from \"react\";\n\nimport TableExample from \"./views/TableExample/TableExample.jsx\";\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <TableExample />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}